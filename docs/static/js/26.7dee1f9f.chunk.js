webpackJsonp([26],{966:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={javaScriptText:[{title:"\u547d\u540d\u7ea6\u5b9a",text:'//\u4f7f\u7528\u7279\u5b9a\u7684\u547d\u540d\u7ea6\u5b9a\u6765\u8868\u793a\u5c5e\u6027\u5e94\u8be5\u88ab\u89c6\u4e3a\u79c1\u6709\n//\u5916\u90e8\u6ca1\u6709\u5b9e\u9645\u4e0a\u9650\u5236\u8bbf\u95ee\u7684\u63aa\u65bd\n\nclass Shape{\n  constructor(width, height) {\n    this._width = width;\n    this._height = height;\n  }\n  get area() {\n    return this._width * this._height;\n  }\n}\n\nconst square = new Shape(10, 10);\n\nconsole.log(square); // Shape {_width:10,_height:10}\nconsole.log(JSON.stringify(square)) // {"_width":10,"_height":10}\n    '},{title:"WeakMap",text:"//\u4f7f\u7528 WeakMap \u6765\u5b58\u50a8\u6240\u6709\u79c1\u6709\u503c\n//\u53ef\u4ee5\u8d77\u5230\u9650\u5236\u79c1\u6709\u5c5e\u6027\u8bbf\u95ee\u7684\u4f5c\u7528\uff0c\u4f46\u5b83\u4f9d\u8d56\u4e8e\u4e00\u4e2a\u653e\u5728\u7c7b\u5916\u9762\u7684\u53ef\u4ee5\u8bbf\u95ee\u548c\u64cd\u4f5c\u7684 WeakMap \u53d8\u91cf\n\nconst map = new WeakMap();\nconst internal = obj => {\n    if (!map.has(obj)) {\n        map.set(obj, {});\n    }\n    return map.get(obj);\n}\n\nclass Shape{\n    constructor(width, height) {\n      internal(this).width = width;\n      internal(this).height = height;\n    }\n    get area() {\n      return internal(this).width * internal(this).height;\n    }\n  }\n\nconst square = new Shape(10, 10);\n\nconsole.log(square);  // Shape {}  \nconsole.log(JSON.stringify(square)) // {}      \n    "},{title:"Symbol",text:"//Symbol \u503c\u4f5c\u4e3a\u5c5e\u6027\u540d\u65f6\uff0c\u5916\u90e8\u65e0\u6cd5\u83b7\u53d6\u5185\u90e8Symbol()\u751f\u6210\u7684key\u624d\u65e0\u6cd5\u53d6\u5230\uff0c\u4f46\u8be5\u5c5e\u6027\u4ecd\u662f\u516c\u5f00\u5c5e\u6027\uff0c\u4e0d\u662f\u79c1\u6709\u5c5e\u6027\n//Symbol \u4f5c\u4e3a\u5c5e\u6027\u540d\uff0c\u8be5\u5c5e\u6027\u4e0d\u4f1a\u88ab\u904d\u5386\u5230\uff1b\u4f46\u662f\u5916\u90e8\u53ef\u4ee5\u901a\u8fc7Object.getOwnPropertySymbols\u65b9\u6cd5\uff0c\u53ef\u4ee5\u83b7\u53d6\u6307\u5b9a\u5bf9\u8c61\u7684\u6240\u6709 Symbol \u5c5e\u6027\u540d\n\nconst widthSymbol = Symbol('width');\nconst heightSymbol = Symbol('height');\n\nclass Shape {\n    constructor(width, height) {\n        this[widthSymbol] = width;\n        this[heightSymbol] = height;\n    }\n    get area() {\n        returnthis[widthSymbol] * this[heightSymbol];\n    }\n}\n\nconst square = new Shape(10, 10);\n\nconsole.log(square);   // Shape { [Symbol(width)]: 10, [Symbol(height)]: 10 }\nconsole.log(JSON.stringify(square)) // {}"},{title:"\u95ed\u5305",text:"//\u5916\u90e8\u8bbf\u95ee\u4e0d\u5230\u5185\u90e8\u7684\u79c1\u6709\u53d8\u91cf\uff0c\u4f46\u95ed\u5305\u9700\u8981\u624b\u52a8\u8fde\u63a5\u539f\u578b\u94fe\n\nfunction Shape() {\n    // \u79c1\u6709\u53d8\u91cf\u96c6\n    const this$ = {};\n\n    class Shape {\n        constructor(width, height) {\n            this$.width = width;\n            this$.height = height;\n        }\n\n        get area() {\n            return this$.width * this$.height;\n        }\n    }\n\n    return Object.setPrototypeOf(new Shape(...arguments), this);   //\u624b\u52a8\u8fde\u63a5 square instanceof Shape\n}\n\nconst square = new Shape(10, 10);   //\u8fd9\u91ccnew\u662f\u4e3a\u4e86\u4fdd\u6301\u7c7b\u7684\u4f7f\u7528\u5f62\u5f0f\n\nconsole.log(square);  // Shape {}\nconsole.log(JSON.stringfy(square));  // {}\n    "},{title:"Proxy",text:"//\u7528\u539f\u578b\u4ee3\u7406\u672c\u8d28\u662f\u5728\u7ea6\u5b9a\u547d\u540d\u57fa\u7840\u6dfb\u52a0\u4e86\u5916\u90e8\u8bbf\u95ee\u7684\u62e6\u622a\u5668\uff0c\u4e22\u51fa\u9519\u8bef\u6765\u7ec8\u6b62\u5916\u90e8\u8bbf\u95ee\u7684\u6548\u679c\n\nclass Shape {\n    constructor(width, height) {\n        this._width = width;\n        this._height = height;\n    }\n    get area() {\n        return this._width * this._height;\n    }\n}\n\nconst handler = {\n    get: function (target, key) {\n        if (key[0] === '_') {\n            throw new Error('Attempt to access private property');\n        } else if (key === 'toJSON') {\n            //JSON.stringfy\u4f1a\u8bbf\u95ee\u5230\u79c1\u6709\u5c5e\u6027\u62a5\u9519\uff0c\u7528\u5185\u90e8\u65b0\u5b9a\u4e49\u7684\u65b9\u6cd5\u8986\u76d6\u9ed8\u8ba4\u7684JSON.stringfy\n            const obj = {};\n            for (const key in target) {\n                if (key[0] !== '_') {           // \u53ea\u590d\u5236\u516c\u5171\u5c5e\u6027\n                    obj[key] = target[key];\n                }\n            }\n            return () => obj;\n        }\n\n        return target[key];\n    },\n    set: function (target, key, value) {\n        if (key[0] === '_') {\n            throw new Error('Attempt to access private property');\n        }\n        target[key] = value;\n    },\n    //\u904d\u5386\u4ecd\u4f1a\u8bbf\u95ee\u5230\u79c1\u6709\u5c5e\u6027\uff0c\u901a\u8fc7\u62e6\u622a\u5668\u62e6\u622a\u5bf9\u79c1\u6709\u5c5e\u6027\u7684\u904d\u5386\n    getOwnPropertyDescriptor(target, key) {\n        const desc = Object.getOwnPropertyDescriptor(target, key);\n        if (key[0] === '_') {\n            desc.enumerable = false;\n        }\n        return desc;\n    }\n}\n\nconst square = new Proxy(new Shape(10, 10), handler);\n\nconsole.log(square);             // Shape { _width: 10, _height: 10 }\nconsole.log(square._width)       // Error: Attempt to access private property\nconsole.log(JSON.stringify(square))  // {}    \n    "},{title:"\u672a\u6765",text:"//\u65b0\u63d0\u6848\nclass Shape {\n\n    #height;\n    #width;\n    \n    constructor(width, height) {\n        this.#width = width;\n        this.#height = height;\n    }\n    \n    get area() {\n        return this.#width * this.#height;\n    }\n}\nconst square = new Shape(10, 10);\n\nconsole.log(square);                 // Shape {}\nconsole.log(square.#width);          // Error: Attempt to access private property\nconsole.log(JSON.stringfy(square))   // {}\n      "}]}}});
//# sourceMappingURL=26.7dee1f9f.chunk.js.map