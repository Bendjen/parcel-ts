webpackJsonp([21],{1422:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),i=n.n(a),r=n(1775),o=(n.n(r),function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}());function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var s=null,c=1e5,u=null,p=null,f=0,d=1,m=2,h=Array(m).fill().map(function(t,e){return{index:e}});function b(t){return Array(t).fill().map(function(){return[0,0]})}var v=function(t){function e(){var t,n,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=a=l(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),a.listRef=i.a.createRef(),a.state={animateStatus:0,listData:h,inputValue:0},l(a,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.a.Component),o(e,[{key:"componentDidUpdate",value:function(){this.updateAnimateStatus()}},{key:"updateAnimateStatus",value:function(){var t=this;if(1===this.state.animateStatus){var e=0===f?1:0;u.forEach(function(n,a){p=n.getBoundingClientRect(),s[a+e][0]=s[a+e][0]-p.left,s[a+e][1]=s[a+e][1]-p.top,0!==s[a+e][1]&&t.state.listData.some(function(t,n){return a+e+c===n&&(t.zIndex=d++,!0)})}),this.setState({animateStatus:2})}else 2===this.state.animateStatus&&(s=b(this.state.listData.length),setTimeout(function(){t.setState({animateStatus:3})},0))}},{key:"updateItem",value:function(t,e){f=t,c=e,u=Array.prototype.slice.call(this.listRef.current.children).slice(c+(0===f?0:1));var n=0===f?1:0;s=b(u.length+n),u.forEach(function(t,e){p=t.getBoundingClientRect(),s[e+n][0]=p.left,s[e+n][1]=p.top});var a=null;a=0===f?this.state.listData.slice(0,c).concat({index:m++},this.state.listData.slice(c)):this.state.listData.filter(function(t,e){return e!==c}),this.setState({animateStatus:1,listData:a})}},{key:"inputIndex",value:function(t){var e=+t.target.value;e>this.state.listData.length&&(console.log("\u65b0\u589eitem\u7684 index\u4e0d\u80fd\u8d85\u8fc7 listData\u7684\u957f\u5ea6"),e=this.state.listData.length),this.setState({inputValue:e,animateStatus:0})}},{key:"render",value:function(){var t=this,e=this.state,n=e.animateStatus,a=e.inputValue;return i.a.createElement("div",null,i.a.createElement("ul",{className:"card-list",ref:this.listRef},this.state.listData.map(function(e,a){return i.a.createElement("li",{key:e.index,className:"card-item"+(a>=c&&3===n?" active":""),style:Object.assign({zIndex:e.zIndex||"auto"},a>=c&&n>1?{transform:"translate("+s[a-c][0]+"px, "+s[a-c][1]+"px)"}:null)},i.a.createElement("div",{className:"card-title"},i.a.createElement("h3",null,"Title - ",e.index),i.a.createElement("span",{onClick:t.updateItem.bind(t,1,a),className:"icon-btn",title:"\u70b9\u51fb\u5220\u9664"},"Delete")),i.a.createElement("div",{className:"card-content"},i.a.createElement("p",{className:"content"},"content - ",e.index),i.a.createElement("p",{className:"content"},"content - ",e.index),i.a.createElement("p",{className:"content"},"content - ",e.index)))})),i.a.createElement("hr",null),i.a.createElement("div",{className:"update-count"},i.a.createElement("input",{onChange:this.inputIndex.bind(this),value:a,type:"number"}),i.a.createElement("button",{onClick:this.updateItem.bind(this,0,a)},"\u589e\u52a0")))}}]),e}();e.default=v},1775:function(t,e,n){var a=n(1776);"string"===typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0};n(34)(a,i);a.locals&&(t.exports=a.locals)},1776:function(t,e,n){(t.exports=n(33)(void 0)).push([t.i,"body {\n  background-color: #ececec; }\n\nh3, p {\n  margin: 0; }\n\n.card-item {\n  position: relative;\n  display: inline-block;\n  margin-left: 30px;\n  width: 260px;\n  overflow: hidden;\n  border-radius: 10px;\n  border: 1px solid #e8e8e8;\n  background-color: #fff; }\n\n.card-item:hover {\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.09);\n  border-color: rgba(0, 0, 0, 0.09); }\n\n.card-item.active {\n  transition: transform 1s ease; }\n\n.card-title {\n  padding: 16px 24px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  border-bottom: 1px solid #e8e8e8; }\n\n.card-title h3 {\n  display: inline-block; }\n\n.card-content {\n  padding: 24px; }\n\n.icon-btn {\n  float: right;\n  font-size: 14px;\n  color: #1890ff;\n  cursor: pointer; }\n\n.update-count {\n  text-align: center; }\n",""])}});
//# sourceMappingURL=21.883930c5.chunk.js.map