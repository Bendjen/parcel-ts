webpackJsonp([34],{1400:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={exampleText:'\nvar wait = function () {\n    var der = $.Deferred();    \n    // 1.\u521b\u5efamemory\u961f\u5217\n    // 2.promise\u5bf9\u8c61\u7684done\failprogress\u6620\u5c04\u4e3a\u961f\u5217\u7684add\u65b9\u6cd5\n    // 3.\u4e3a\u961f\u5217\u7684\u7b2c\u4e00\u9879add\u4e00\u4e2a\u53d8\u66f4state\u7684\u65b9\u6cd5(memory\u7684add\u8981\u5728fire\u89e6\u53d1\u540e\u624d\u4f1a\u7acb\u5373\u89e6\u53d1add\u7684\u51fd\u6570)\n    // 4.\u4e3adeferred\u7684resolve\reject\notify\u65b9\u6cd5\u6620\u5c04\u4e3a \u89e6\u53d1 \u961f\u5217\u7684fireWith(context,arguments)\n    // 5.\u5c06deferred\u5bf9\u8c61promise\u5316,\u4f7f\u5f97\u901a\u8fc7when\u65b9\u6cd5\u53ef\u4ee5\u5f97\u5230deferred\u5bf9\u8c61\u7684promise\n    var test = function () {\n        console.log("\u8001\u53f8\u673a\u5f00\u8f66\u4e86");\n        der.resolve("max");     //\u6210\u529f     \u961f\u5217\u4e2d\u7684\u5904\u7406\u51fd\u6570  \u8c03\u7528\u6210\u529f\u8fd9\u4e2a\u961f\u5217\u4e2d\u7684\u5904\u7406\u51fd\u6570\n    }\n    setTimeout(test, 2000);\n    return der;    //\u5ef6\u8fdf\u5bf9\u8c61 \n}\n\n//\u5ef6\u8fdf\u5bf9\u8c61\u7684\u72b6\u6001 \u51b3\u5b9a\u8c03\u7528\u90a3\u4e2a\u961f\u5217\u4e2d\u7684\u5904\u7406\u51fd\u6570\n// 1.when\u65b9\u6cd5\u8fd4\u56dedeferred\u5bf9\u8c61\u7684promise\n// 2.\u524d\u9762\u7b2c4\u6b65\u89e6\u53d1\u4e86fireWith\u4f7f\u5f97callbacks\u961f\u5217\u7684add\u65b9\u6cd5\u4f1a\u76f4\u63a5\u89e6\u53d1\u51fd\u6570(\u6709memory\u5c5e\u6027)\n// 3.\u524d\u9762\u7b2c\u4e8c\u90e8\u5df2\u7ecf\u5c06done\failprogress\u6620\u5c04\u4e3a\u4e86\u961f\u5217\u7684add\u65b9\u6cd5,\u6240\u4ee5\u8fd9\u91cc\u4f1a\u8fb9\u4f20\u5165func\u8fb9\u89e6\u53d1func,\u5e76\u8fd4\u56depromise\u5f62\u6210\u94fe\u5f0f\n$.when(wait())     //promise\u5bf9\u8c61promise.done()   self.add\n    .done(function (name) {\n        console.log(name)\n        console.log("\u6267\u884c\u6210\u529f");\n    }).fail(function () {\n        console.log("\u6267\u884c\u5931\u8d25");\n    });\n\n',javaScriptText:[{title:"Deferred\u6e90\u7801",text:'\n(function (root) {\n    var jQuery = function (selector, context) {\n        // \u9519\u8bef\u5b9e\u4f8b\u5316\uff1a\u4f1a\u9020\u6210\u65e0\u9650\u81ea\u6211\u8c03\u7528\uff0c\u5f62\u6210\u6b7b\u5faa\u73af\n        // return  new jQuery();  \n        return new jQuery.prototype.init(selector, context)\n    }\n\n    // \u4e3ajQuery.prototype\u8d77\u522b\u540djQuery.fn\n    jQuery.fn = jQuery.prototype = {\n        init: function (selector, context) {\n           ...\n        },\n\n    }\n\n    jQuery.fn.extend = jQuery.extend = function () { ... }\n\n    jQuery.extend({\n        ...\n        // \u5f02\u6b65\u56de\u8c03\u89e3\u51b3\u65b9\u6848\n\t\tDeferred: function(func) {\n            //  [ 0 : deferred\u7684\u65b9\u6cd5, 1 : promise\u7684\u65b9\u6cd5, 2 : \u961f\u5217 , 3 : \u6700\u7ec8\u72b6\u6001]\n\t\t\tvar tuples = [\n\t\t\t\t\t["resolve", "done", jQuery.callbacks("once memory"), "resolved"],\n\t\t\t\t\t["reject", "fail", jQuery.callbacks("once memory"), "rejected"],\n\t\t\t\t\t["notify", "progress", jQuery.callbacks("memory")]\n\t\t\t\t],\n\t\t\t\tstate = "pending",\n\t\t\t\tpromise = {\n\t\t\t\t\tstate: function() {\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t},\n\t\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\n                    },\n                    // \u4f7f\u4e00\u4e2a\u5bf9\u8c61\u53d8\u6210\n\t\t\t\t\tpromise: function(obj) {        // \u8fd9\u4e2aobj\u53ef\u4ee5\u7ed9promise\u5bf9\u8c61\u6269\u5145\u65b9\u6cd5\u548c\u5c5e\u6027,\u5982\u679c\u6ca1\u6709\u76f4\u63a5\u8fd4\u56de\u5185\u90e8\u5b9a\u4e49\u7684promise\n\t\t\t\t\t\treturn obj != null ? jQuery.extend(obj, promise) : promise;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdeferred = {};\n\n\t\t\ttuples.forEach(function(tuple, i) {\n\t\t\t\tvar list = tuple[2],\n\t\t\t\t\tstateString = tuple[3];\n\n                // \u4e3apromise\u7684done\failprogree\u9644\u52a0\u56de\u8c03\u5904\u7406\u5668 list.add\n\t\t\t\t// promise[ done | fail | progress ] = list.add\n\t\t\t\tpromise[tuple[1]] = list.add;\n\n                // Handle state\n                // \u961f\u5217fire\u4e4b\u540e\u7684state\uff0c\n                // \u6709memory\u53c2\u6570 \u7b2c\u4e00\u6b21add\u4e0d\u4f1a\u89e6\u53d1,\u8981fire\u540e\u624d\u4f1a\u89e6\u53d1state\u7684\u53d8\u66f4\n\t\t\t\tif (stateString) {\n\t\t\t\t\tlist.add(function() {\n\t\t\t\t\t\t// state = [ resolved | rejected ]\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t});\n\t\t\t\t}\n\n                // deferred[ resolve | reject | notify ]\n                // \u4ee5\u4e0a\u65b9\u6cd5\u8c03\u7528\u65f6\u4f1a\u89e6\u53d1fireWitch,\u4ece\u800c\u89e6\u53d1\u961f\u5217\u7684\u8fdb\u884c,\u5373promise\u7684\u56de\u8c03\n\t\t\t\tdeferred[tuple[0]] = function() {\n\t\t\t\t\tdeferred[tuple[0] + "With"](this === deferred ? promise : this, arguments);\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\t\t\t\tdeferred[tuple[0] + "With"] = list.fireWith;\n\t\t\t});\n\n\t\t\t// Make the deferred a promise\n\t\t\tpromise.promise(deferred);\n\n            console.log(deferred)\n\t\t\treturn deferred;\n\t\t},\n\t\t//\u6267\u884c\u4e00\u4e2a\u6216\u591a\u4e2a\u5bf9\u8c61\u7684\u5ef6\u8fdf\u5bf9\u8c61\u7684\u56de\u8c03\u51fd\u6570\n\t\twhen: function(subordinate) {\n\t\t\treturn subordinate.promise();\n\t\t},\n    })\n    ...\n\n    jQuery.fn.init.prototype = jQuery.fn \n\n    root.$ = root.jQuery = jQuery\n\n})(this);\n    '}]}}});
//# sourceMappingURL=34.d4158219.chunk.js.map